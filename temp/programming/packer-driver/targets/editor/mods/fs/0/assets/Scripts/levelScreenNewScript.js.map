{"version":3,"sources":["file:///Users/naushad/BricksBreaker/assets/Scripts/levelScreenNewScript.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","Label","director","Sprite","UIOpacity","SpriteFrame","SingletonClass","ccclass","property","LevelManager","getInstance","setLevelPlayed","LevelScreenNewScript","start","levelPlayed","getLevelPlayed","addLevel","console","log","i","tempNode","levelPrefab","getChildByName","getComponent","string","star1","buttonNumber","spriteFrame","yellowStar","on","EventType","TOUCH_START","loadGame","unlocked","addComponent","opacity","content","addChild","event","currentTarget","setLevel","loadScene"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Prefab, instantiate, Label, director, sys, Sprite, UIOpacity, SpriteFrame } from 'cc';\r\nimport { SingletonClass } from './SingletonClass';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\nvar LevelManager:SingletonClass = SingletonClass.getInstance();\r\n//console.log('Level : ', LevelManager.getLevel());\r\nLevelManager.setLevelPlayed(1);\r\n\r\n@ccclass('LevelScreenNewScript')\r\nexport class LevelScreenNewScript extends Component {\r\n\r\n    @property(Prefab)\r\n    levelPrefab : Prefab = null;\r\n\r\n    @property(Node)\r\n    content : Node = null;\r\n\r\n    @property(SpriteFrame)\r\n    yellowStar : SpriteFrame = null;\r\n\r\n    tempNode : any = null;\r\n    levelPlayed : any = null;\r\n\r\n    start () {\r\n        this.levelPlayed = LevelManager.getLevelPlayed();\r\n        this.addLevel();\r\n        console.log('start called');\r\n    }\r\n    addLevel()\r\n    {\r\n        for(let i =1;i<=8;i++)\r\n        {\r\n            this.tempNode = instantiate(this.levelPrefab);\r\n            this.tempNode.getChildByName('Label').getComponent(Label).string = `${i}`;\r\n            this.tempNode.star1 = this.tempNode.getChildByName('star1').getComponent(Sprite);\r\n            this.tempNode.buttonNumber = i;\r\n            this.tempNode.getChildByName('star1').getComponent(Sprite).spriteFrame = this.yellowStar;\r\n            this.tempNode.getChildByName('star2').getComponent(Sprite).spriteFrame = this.yellowStar;\r\n            this.tempNode.on(Node.EventType.TOUCH_START,this.loadGame,this);\r\n            console.log(this.levelPlayed);\r\n            if(i<=this.levelPlayed)\r\n            {\r\n                this.tempNode.getChildByName('status').getComponent(Sprite).spriteFrame = null;\r\n                this.tempNode.unlocked = true;\r\n            }\r\n            else\r\n            {\r\n                this.tempNode.unlocked = false;\r\n                console.log(this.tempNode.addComponent(UIOpacity).opacity = 190);\r\n            }\r\n            this.content.addChild(this.tempNode);\r\n            console.log(this.tempNode);\r\n        }\r\n    }\r\n    loadGame(event)\r\n    {\r\n        console.log(event);\r\n        if(event.currentTarget.unlocked)\r\n        {\r\n            LevelManager.setLevel(event.currentTarget.buttonNumber);\r\n            director.loadScene('playScreen');\r\n        }\r\n        else\r\n        {\r\n            console.log('Level '+ event.currentTarget.buttonNumber + ' is still locked');\r\n        }\r\n    }\r\n}"]}