{"version":3,"sources":["file:///Users/naushad/BricksBreaker/assets/Scripts/levelScreenNewScript.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","Label","director","Sprite","UIOpacity","SingletonClass","ccclass","property","LevelManager","getInstance","console","log","getLevel","setLevelPlayed","LevelScreenNewScript","start","levelPlayed","getLevelPlayed","addLevel","i","tempNode","levelPrefab","getChildByName","getComponent","string","buttonNumber","on","EventType","TOUCH_START","loadGame","spriteFrame","unlocked","addComponent","opacity","content","addChild","event","setLevel","currentTarget","loadScene"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Prefab, instantiate, Label, director, sys, Sprite, UIOpacity } from 'cc';\r\nimport { SingletonClass } from './SingletonClass';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\nvar LevelManager:SingletonClass = SingletonClass.getInstance();\r\nconsole.log('Level : ', LevelManager.getLevel());\r\nLevelManager.setLevelPlayed(1);\r\n\r\n\r\n@ccclass('LevelScreenNewScript')\r\nexport class LevelScreenNewScript extends Component {\r\n\r\n    @property(Prefab)\r\n    levelPrefab : Prefab = null;\r\n\r\n    @property(Node)\r\n    content : Node = null;\r\n\r\n    tempNode : any = null;\r\n    levelPlayed : any = null;\r\n\r\n    start () {\r\n        \r\n        this.levelPlayed = LevelManager.getLevelPlayed();\r\n        console.log('start loaded');\r\n        console.log(this.levelPlayed);\r\n        console.log(typeof(this.levelPlayed));\r\n        this.addLevel();\r\n    }\r\n    addLevel()\r\n    {\r\n        for(let i =1;i<=8;i++)\r\n        {\r\n            this.tempNode = instantiate(this.levelPrefab);\r\n            this.tempNode.getChildByName('Label').getComponent(Label).string = `${i}`;\r\n            this.tempNode.buttonNumber = i;\r\n            this.tempNode.on(Node.EventType.TOUCH_START,this.loadGame,this);\r\n            console.log(this.levelPlayed);\r\n            if(i<=this.levelPlayed)\r\n            {\r\n                //console.log('in if');\r\n                this.tempNode.getChildByName('status').getComponent(Sprite).spriteFrame = null;\r\n\r\n                this.tempNode.unlocked = true;\r\n                console.log('in if')\r\n            }\r\n            else\r\n            {\r\n                this.tempNode.unlocked = false;\r\n                console.log('in else');\r\n                console.log(this.tempNode.addComponent(UIOpacity).opacity = 190);\r\n            }\r\n            this.content.addChild(this.tempNode);\r\n            console.log('added');\r\n            console.log(this.tempNode);\r\n        }\r\n    }\r\n    loadGame(event)\r\n    {\r\n        LevelManager.setLevel(event.currentTarget.buttonNumber);\r\n        if(event.currentTarget.unlocked)\r\n        {\r\n            director.loadScene('playScreen');\r\n        }\r\n        else\r\n        {\r\n            console.log('level not unlocked');\r\n        }\r\n        \r\n    }\r\n}"]}