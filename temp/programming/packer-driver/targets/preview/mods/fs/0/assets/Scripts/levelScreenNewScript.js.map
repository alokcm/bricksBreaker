{"version":3,"sources":["file:///Users/naushad/BricksBreaker/assets/Scripts/levelScreenNewScript.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","Label","director","Sprite","UIOpacity","SpriteFrame","SingletonClass","ccclass","property","LevelManager","getInstance","LevelScreenNewScript","start","levelPlayed","getLevelPlayed","addLevel","console","log","i","tempNode","levelPrefab","getChildByName","getComponent","string","star1","buttonNumber","on","EventType","TOUCH_START","loadGame","spriteFrame","unlocked","addComponent","opacity","getLevelStar","yellowStar","content","addChild","event","currentTarget","setLevel","loadScene"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Prefab, instantiate, Label, director, sys, Sprite, UIOpacity, SpriteFrame } from 'cc';\r\nimport { SingletonClass } from './SingletonClass';\r\nconst { ccclass, property } = _decorator;\r\n\r\nvar LevelManager:SingletonClass = SingletonClass.getInstance();\r\n\r\n@ccclass('LevelScreenNewScript')\r\nexport class LevelScreenNewScript extends Component {\r\n\r\n    @property(Prefab)\r\n    levelPrefab : Prefab = null;\r\n\r\n    @property(Node)\r\n    content : Node = null;\r\n\r\n    @property(SpriteFrame)\r\n    yellowStar : SpriteFrame = null;\r\n\r\n    tempNode : any = null;\r\n    levelPlayed : any = null;\r\n\r\n    start () {\r\n        this.levelPlayed = LevelManager.getLevelPlayed();\r\n        this.addLevel();\r\n        console.log('start called');\r\n    }\r\n    addLevel()\r\n    {\r\n        for(let i =1;i<=8;i++)\r\n        {\r\n            this.tempNode = instantiate(this.levelPrefab);\r\n            this.tempNode.getChildByName('Label').getComponent(Label).string = `${i}`;\r\n            this.tempNode.star1 = this.tempNode.getChildByName('star1').getComponent(Sprite);\r\n            this.tempNode.buttonNumber = i;\r\n            \r\n            this.tempNode.on(Node.EventType.TOUCH_START,this.loadGame,this);\r\n            console.log(this.levelPlayed);\r\n            if(i<=this.levelPlayed)\r\n            {\r\n                this.tempNode.getChildByName('status').getComponent(Sprite).spriteFrame = null;\r\n                this.tempNode.unlocked = true;\r\n            }\r\n            else\r\n            {\r\n                this.tempNode.unlocked = false;\r\n                console.log(this.tempNode.addComponent(UIOpacity).opacity = 190);\r\n            }\r\n            switch(LevelManager.getLevelStar(i))\r\n            {\r\n                case 3 : this.tempNode.getChildByName('star3').getComponent(Sprite).spriteFrame = this.yellowStar;\r\n                case 2 : this.tempNode.getChildByName('star2').getComponent(Sprite).spriteFrame = this.yellowStar;\r\n                case 1 : this.tempNode.getChildByName('star1').getComponent(Sprite).spriteFrame = this.yellowStar;\r\n                default : console.log(' no data for these ');\r\n            }\r\n            \r\n            this.content.addChild(this.tempNode);\r\n            console.log(this.tempNode);\r\n        }\r\n    }\r\n    loadGame(event)\r\n    {\r\n        console.log(event);\r\n        if(event.currentTarget.unlocked)\r\n        {\r\n            LevelManager.setLevel(event.currentTarget.buttonNumber);\r\n            director.loadScene('playScreen');\r\n        }\r\n        else\r\n        {\r\n            console.log('Level '+ event.currentTarget.buttonNumber + ' is still locked');\r\n        }\r\n    }\r\n}"]}